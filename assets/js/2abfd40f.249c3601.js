"use strict";(self.webpackChunkmaptaskr_docs_copy=self.webpackChunkmaptaskr_docs_copy||[]).push([[578],{14074:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>o});var i=s(74848),n=s(28453);const a={},d="Maptaskr Configuration",r={id:"tutorials/maptaskr-for-dynamics-field-service/maptaskr-configuration",title:"Maptaskr Configuration",description:"Map Settings",source:"@site/docs/tutorials/maptaskr-for-dynamics-field-service/maptaskr-configuration.md",sourceDirName:"tutorials/maptaskr-for-dynamics-field-service",slug:"/tutorials/maptaskr-for-dynamics-field-service/maptaskr-configuration",permalink:"/docs/tutorials/maptaskr-for-dynamics-field-service/maptaskr-configuration",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"maptaskrSidebar",previous:{title:"Configuring Maptaskr for use with Dynamics 365 Field Service",permalink:"/docs/tutorials/maptaskr-for-dynamics-field-service/introduction"},next:{title:"Geographies",permalink:"/docs/tutorials/maptaskr-for-dynamics-field-service/geographies"}},c={},o=[{value:"Map Settings",id:"map-settings",level:2},{value:"Display Settings",id:"display-settings",level:3},{value:"Feature, Search and Style Settings",id:"feature-search-and-style-settings",level:3},{value:"Adding Maptaskr Dashboard to the Field Service App Menu",id:"adding-maptaskr-dashboard-to-the-field-service-app-menu",level:2},{value:"Adding Location to Forms",id:"adding-location-to-forms",level:2},{value:"Add a Layer to the Dashboard",id:"add-a-layer-to-the-dashboard",level:2},{value:"Add Actions to Populate Work Order with Functional Location and Asset",id:"add-actions-to-populate-work-order-with-functional-location-and-asset",level:2},{value:"Related GIS Layer Action",id:"related-gis-layer-action",level:3},{value:"Related Entity Actions",id:"related-entity-actions",level:3}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"maptaskr-configuration",children:"Maptaskr Configuration"}),"\n",(0,i.jsx)(t.h2,{id:"map-settings",children:"Map Settings"}),"\n",(0,i.jsx)(t.h3,{id:"display-settings",children:"Display Settings"}),"\n",(0,i.jsx)(t.p,{children:"Set the default view to Satellite and units of measure to metric or imperial depending on the audience."}),"\n",(0,i.jsxs)(t.p,{children:["Consider setting the ",(0,i.jsx)(t.code,{children:"Display pin's label"})," or ",(0,i.jsx)(t.code,{children:"Display pin's label on hover"})," options depending on the number of data points on the Dashboard."]}),"\n",(0,i.jsxs)(t.p,{children:["If you want to use icons rather than pins tick the ",(0,i.jsx)(t.code,{children:"Load Custom Icon"})," checkbox and be sure to upload additional Push Pin images (24px * 24px) via the Icons menu."]}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsx)(t.p,{children:"Use different coloured versions of the same icon if you want to convey a second attribute, such as status, when displaying data."})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(70477).A+"",width:"1379",height:"706"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(44324).A+"",width:"903",height:"462"})}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsx)(t.p,{children:"Microsoft PowerPoint has a great selection of icons that can be exported as SVG files for use in menus and as png files for use in Maptaskr!"})}),"\n",(0,i.jsx)(t.h3,{id:"feature-search-and-style-settings",children:"Feature, Search and Style Settings"}),"\n",(0,i.jsx)(t.p,{children:"See the recommended settings in the screenshot below:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(57887).A+"",width:"903",height:"462"})}),"\n",(0,i.jsxs)(t.admonition,{type:"tip",children:[(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"Load default query"})," will automatically run the default query whenever the Maptaskr Dashboard is opened"]}),(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"Enable annotation API request"})," will display any lines/shapes/annotations relating to the record on the Dashboard without needing to open each record to view these. See Oil Spill example screenshots above."]}),(0,i.jsxs)(t.p,{children:["Setting the ",(0,i.jsx)(t.code,{children:"Regional fill colour"})," to ",(0,i.jsx)(t.code,{children:"#00000000"})," makes it transparent so the underlying map is easier to see after performing a search."]})]}),"\n",(0,i.jsx)(t.h2,{id:"adding-maptaskr-dashboard-to-the-field-service-app-menu",children:"Adding Maptaskr Dashboard to the Field Service App Menu"}),"\n",(0,i.jsx)(t.p,{children:"Open the Field Service App in the editor and add a Web resource as a Page in the relevant place in the Navigation menu."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(79798).A+"",width:"936",height:"479"})}),"\n",(0,i.jsxs)(t.p,{children:["Select ",(0,i.jsx)(t.code,{children:"Maptaskr Dashboard"})," as the URL and ",(0,i.jsx)(t.code,{children:"Map Dashboard"})," as the Title."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(54057).A+"",width:"936",height:"479"})}),"\n",(0,i.jsx)(t.p,{children:"Edit the Icon to use a web resource and select the Maptaskr icon."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(99232).A+"",width:"936",height:"479"})}),"\n",(0,i.jsx)(t.h2,{id:"adding-location-to-forms",children:"Adding Location to Forms"}),"\n",(0,i.jsx)(t.p,{children:"To view and edit geospatial data on records the Maptaskr control needs to be added to forms along with a JavaScript library and an Event Handler to connect it to the underlying data. In this example we are using Case and setting up Maptaskr on its own tab (full height/width), but it can be embedded alongside other controls on an existing tab."}),"\n",(0,i.jsxs)(t.p,{children:["Add a 1-column tab to the Case form and label it ",(0,i.jsx)(t.code,{children:"Location"}),". Hide the section label."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(54267).A+"",width:"936",height:"479"})}),"\n",(0,i.jsx)(t.p,{children:"Add an HTML web resource."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(88914).A+"",width:"936",height:"479"})}),"\n",(0,i.jsxs)(t.p,{children:["Add ",(0,i.jsx)(t.code,{children:"maptaskr_/app/shapeeditor.html"})]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(40917).A+"",width:"936",height:"479"})}),"\n",(0,i.jsxs)(t.p,{children:["Set the Component height to 18 rows. Uncheck the ",(0,i.jsx)(t.code,{children:"Hide on phone"})," check box \u2013 Maptaskr works with the Field Service mobile app."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(58028).A+"",width:"1394",height:"714"})}),"\n",(0,i.jsxs)(t.p,{children:["Add the Maptaskr JavaScript ",(0,i.jsx)(t.code,{children:"maptaskr_/app/assets/lib/js/form_datasource_autocomplete.js"})," library to the Form library."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(59714).A+"",width:"1430",height:"751"})}),"\n",(0,i.jsxs)(t.p,{children:["Add an ",(0,i.jsx)(t.code,{children:"On Load"})," event to the form."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(80843).A+"",width:"1430",height:"751"})}),"\n",(0,i.jsxs)(t.p,{children:["Select the ",(0,i.jsx)(t.code,{children:"maptaskr_/app/assets/lib/js/form_datasource_autocomplete.js"})," library and enter ",(0,i.jsx)(t.code,{children:"initShapeEntity"})," as the Function. Tick the ",(0,i.jsx)(t.code,{children:"Pass execution context as first parameter"})," option."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(9552).A+"",width:"1430",height:"751"})}),"\n",(0,i.jsx)(t.p,{children:"That\u2019s all there is to it! Save and Publish the form."}),"\n",(0,i.jsxs)(t.p,{children:["Geo-tagged Case records can be created either from the Maptaskr Dashboard screen or the New Case form. In the case of the former the Maptaskr Latitude and Longitude fields are automatically populated on the record when it is created; in the case of the latter create and save the record before going to the location tab and right-clicking on the map and selecting ",(0,i.jsx)(t.code,{children:"Set Location"}),"."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(15801).A+"",width:"903",height:"474"})}),"\n",(0,i.jsx)(t.p,{children:"Once the record has been saved, the map can be edited to add lines, polygons, points of interest and text annotations. Dragging and dropping the pin will also update the latitude and longitude values on the case record."}),"\n",(0,i.jsx)(t.h2,{id:"add-a-layer-to-the-dashboard",children:"Add a Layer to the Dashboard"}),"\n",(0,i.jsx)(t.p,{children:"For a Field Service demonstration use a public ArcGIS layer that has an attribute that can act as a Functional Location. For example, Brisbane City Parks:"}),"\n",(0,i.jsxs)(t.p,{children:["On the Maptaskr Dashboard Layers tab click ",(0,i.jsx)(t.code,{children:"Add Corporate Layer"}),"."]}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Enter ",(0,i.jsx)(t.code,{children:"Brisbane Parks"})," as the name"]}),"\n",(0,i.jsx)(t.li,{children:"Select ArcGIS as the Service Type (Note: this option is only available in Maptaskr Enterprise for Dynamics 365)."}),"\n",(0,i.jsxs)(t.li,{children:["Enter the following as the Layer URL: ",(0,i.jsx)(t.a,{href:"https://services2.arcgis.com/dEKgZETqwmDAh1rP/arcgis/rest/services/Park_Locations/FeatureServer/0",children:"https://services2.arcgis.com/dEKgZETqwmDAh1rP/arcgis/rest/services/Park_Locations/FeatureServer/0"})]}),"\n",(0,i.jsxs)(t.li,{children:["Layers can be organised into Groups. Create a Group called ",(0,i.jsx)(t.code,{children:"Queensland"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Add ",(0,i.jsx)(t.code,{children:"All Groups"})," as the Security Group."]}),"\n",(0,i.jsx)(t.li,{children:"All other settings can be left as their default values."}),"\n",(0,i.jsx)(t.li,{children:"Click Upload."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(66406).A+"",width:"447",height:"648"})}),"\n",(0,i.jsx)(t.p,{children:"Clicking on a park will show its ESRI attributes in an info panel."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(5423).A+"",width:"903",height:"462"})}),"\n",(0,i.jsxs)(t.p,{children:["The PARK_NAME attribute can serve as the Functional Location. Let's add ",(0,i.jsx)(t.code,{children:"King George Square"})," as a Functional Location in Field Service."]}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsx)(t.p,{children:"The names must match but are not case sensitive."})}),"\n",(0,i.jsx)(t.h2,{id:"add-actions-to-populate-work-order-with-functional-location-and-asset",children:"Add Actions to Populate Work Order with Functional Location and Asset"}),"\n",(0,i.jsx)(t.p,{children:"Adding Functional Locations and Assets to Work Orders when clicking on parks on the Brisbane Parks layer on the Maptaskr Dashboard requires the addition of a Related GIS Layer Action and a Related Entity Action on the Maptaskr Data Source configuration form for Work Order."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(30932).A+"",width:"903",height:"462"})}),"\n",(0,i.jsx)(t.h3,{id:"related-gis-layer-action",children:"Related GIS Layer Action"}),"\n",(0,i.jsx)(t.p,{children:"Add a Related GIS Action with the following settings:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Field"}),(0,i.jsx)(t.th,{children:"Value"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Title"}),(0,i.jsx)(t.td,{children:"Add Functional Location"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Action Name"}),(0,i.jsx)(t.td,{children:"Layer Attribute Lookup"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"GIS Layer Name"}),(0,i.jsx)(t.td,{children:"1 - Brisbane Parks"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Related Entity Name"}),(0,i.jsx)(t.td,{children:"msdyn_functionallocation"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Related Entity Field Name"}),(0,i.jsx)(t.td,{children:"msdyn_name"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Lookup Field Name"}),(0,i.jsx)(t.td,{children:"msdyn_functionallocation"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Icon Class"}),(0,i.jsx)(t.td,{children:"+ Add"})]})]})]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(63965).A+"",width:"903",height:"462"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(87370).A+"",width:"903",height:"462"})}),"\n",(0,i.jsx)(t.p,{children:"When the Add Functional Location is clicked it will be added to the Work Order and the Assets in that Functional Location will be displayed."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(26227).A+"",width:"903",height:"462"})}),"\n",(0,i.jsx)(t.h3,{id:"related-entity-actions",children:"Related Entity Actions"}),"\n",(0,i.jsx)(t.p,{children:"Add a Related Entity Action with the following settings:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Field"}),(0,i.jsx)(t.th,{children:"Value"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Title"}),(0,i.jsx)(t.td,{children:"Add Asset"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Action Name"}),(0,i.jsx)(t.td,{children:"Populate Lookup Field"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Related Entity Name"}),(0,i.jsx)(t.td,{children:"msdyn_customerasset"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Lookup Field Name"}),(0,i.jsx)(t.td,{children:"msdyn_customerasset"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Icon Class"}),(0,i.jsx)(t.td,{children:"+ Add"})]})]})]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(15087).A+"",width:"903",height:"462"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(76070).A+"",width:"903",height:"462"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:s(73629).A+"",width:"903",height:"462"})})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},70477:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture20-524e680061adc61ba32d28d9ea61778a.png"},44324:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture21-c953e764a772378d14a35af6871db55c.png"},57887:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture22-acb7ce1b7b882fc546d83744eab5d01b.png"},79798:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture23-ba9c6a14d580429a7a112d4df934f1c4.png"},54057:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture24-7d3fb42e1f37d6c96da391b7bb510590.png"},99232:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture25-26301130d2e1726f08ef30a403787200.png"},54267:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture26-fb691100a999a4fc6ddd1aa06787ae86.png"},88914:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture27-47722aa38e9502cd73b6b77dd16c3f7c.png"},40917:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture28-5c50d786db246fd384942267e1bc7836.png"},58028:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture29-fb274c146c4b50b06e35f71f03ebe91c.png"},59714:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture30-55498c61bdd371a7154dc9065726a355.png"},80843:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture31-5cb217d61517c099617a6be23bbc35d7.png"},9552:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture32-6b9e854bf342c2d456962b3ba8102ca6.png"},15801:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture33-55341124d6297566a0598f68a2afa3e1.png"},66406:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture34-4454ef663d91c08f79a9f9c715018b79.png"},5423:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture35-f1c3a8287ba6ce5d945891b40af9a630.png"},30932:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture36-43a7dab3ad10201b450be5b2aba593f7.png"},63965:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture37-135c73812f58a842d96dc27b5559b1b0.png"},87370:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture38-e85de8b8f0f81af40f0598c9d705b99e.png"},26227:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture39-1d3f9e9e277a37224ec2d0ce2a12a29b.png"},15087:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture40-4f0a74c840b6c5e9ca55286dc5518352.png"},76070:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture41-c628641cc6699ed2213cecfcffbc95df.png"},73629:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Picture42-dbf97b42145f5e75f770ffed3c3ff221.png"},28453:(e,t,s)=>{s.d(t,{R:()=>d,x:()=>r});var i=s(96540);const n={},a=i.createContext(n);function d(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),i.createElement(a.Provider,{value:t},e.children)}}}]);