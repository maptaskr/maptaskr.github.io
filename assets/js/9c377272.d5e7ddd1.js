"use strict";(self.webpackChunkmaptaskr_docs_copy=self.webpackChunkmaptaskr_docs_copy||[]).push([[2657],{43601:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>d,toc:()=>c});var i=t(74848),n=t(28453);const a={},r="Configuring Maptaskr for use with Dynamics 365 Field Service",d={id:"tutorials/maptaskr-for-dynamics-365-field-service/introduction",title:"Configuring Maptaskr for use with Dynamics 365 Field Service",description:"Introduction",source:"@site/docs/tutorials/maptaskr-for-dynamics-365-field-service/introduction.md",sourceDirName:"tutorials/maptaskr-for-dynamics-365-field-service",slug:"/tutorials/maptaskr-for-dynamics-365-field-service/introduction",permalink:"/docs/tutorials/maptaskr-for-dynamics-365-field-service/introduction",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"maptaskrSidebar",previous:{title:"Introduction",permalink:"/docs/tutorials/introduction"},next:{title:"Maptaskr Configuration",permalink:"/docs/tutorials/maptaskr-for-dynamics-365-field-service/maptaskr-configuration"}},o={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Configuring Dataverse",id:"configuring-dataverse",level:2},{value:"Example",id:"example",level:3},{value:"Configuring Maptaskr Data Source Settings",id:"configuring-maptaskr-data-source-settings",level:2},{value:"Linking Tables to Maptaskr",id:"linking-tables-to-maptaskr",level:3},{value:"Creating Geo-Tagged Records from Maptaskr Dashboard",id:"creating-geo-tagged-records-from-maptaskr-dashboard",level:3},{value:"Display Records as Icons or Coloured Pins",id:"display-records-as-icons-or-coloured-pins",level:3},{value:"Configuring Data Tab Columns",id:"configuring-data-tab-columns",level:3},{value:"Configuring Infobox Details",id:"configuring-infobox-details",level:3},{value:"Configuring Infobox Actions",id:"configuring-infobox-actions",level:3},{value:"Configuring Record Level Relationships",id:"configuring-record-level-relationships",level:3}];function l(e){const s={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h1,{id:"configuring-maptaskr-for-use-with-dynamics-365-field-service",children:"Configuring Maptaskr for use with Dynamics 365 Field Service"}),"\n",(0,i.jsx)(s.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsx)(s.p,{children:"This guide is aimed at experienced Dynamics 365 consultants and shows how to integrate Maptaskr with Dynamics 365 Field Service. It is assumed that readers have knowledge of using Power Apps Studio and basic system configuration. This document will not cover Maptaskr's advanced features but will show all you need to know to get up and running."}),"\n",(0,i.jsxs)(s.admonition,{type:"warning",children:[(0,i.jsx)(s.p,{children:"Please note that this tutorial has been written to suit the functionality and capability of Maptaskr v2.2.2.58."}),(0,i.jsx)(s.p,{children:"If you are using a different version of Maptaskr then your experience may vary, and you may have to adjust some settings accordingly."})]}),"\n",(0,i.jsx)(s.h2,{id:"configuring-dataverse",children:"Configuring Dataverse"}),"\n",(0,i.jsx)(s.p,{children:"Dynamics Field Service stores latitude/longitude values as Numeric Float columns with only 5 decimal places. This equates to a location accuracy of a few meters, depending on where you are on the earth's surface. Whilst this is sufficient to get you to a location it is often not precise enough to accurately identify the specific asset there. These columns cannot be changed as the Schedule Board and Universal Resource Scheduling engine are dependent on them and any changes break them."}),"\n",(0,i.jsx)(s.p,{children:"Asset management and GIS systems typically store location data at a much higher precision to define the exact location of an asset. In Maptaskr we typically store latitude/longitude values as Decimals with 10 decimal places."}),"\n",(0,i.jsx)(s.h3,{id:"example",children:"Example"}),"\n",(0,i.jsx)(s.p,{children:"One customer in the aviation industry uses Maptaskr with Dynamics Field Service. One of their challenges was that runway lights are only 1m apart and are repaired during daylight hours when they are switched off. Engineers needed to know exactly which light is broken. Using Maptaskr they were able to drop a pin on the map and select the precise light in need of repair."}),"\n",(0,i.jsx)(s.p,{children:"Below is a table reference of the decimal place accuracy of coordinates:"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Decimal Places"}),(0,i.jsx)(s.th,{children:"Degrees"}),(0,i.jsx)(s.th,{children:"Distance (up-to)"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"0"}),(0,i.jsx)(s.td,{children:"1"}),(0,i.jsx)(s.td,{children:"111 km"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"1"}),(0,i.jsx)(s.td,{children:"0.1"}),(0,i.jsx)(s.td,{children:"11.1 km"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"2"}),(0,i.jsx)(s.td,{children:"0.01"}),(0,i.jsx)(s.td,{children:"1.11 km"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"3"}),(0,i.jsx)(s.td,{children:"0.001"}),(0,i.jsx)(s.td,{children:"111 m"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"4"}),(0,i.jsx)(s.td,{children:"0.0001"}),(0,i.jsx)(s.td,{children:"11.1 m"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"5"}),(0,i.jsx)(s.td,{children:"0.00001"}),(0,i.jsx)(s.td,{children:"1.11 m"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"6"}),(0,i.jsx)(s.td,{children:"0.000001"}),(0,i.jsx)(s.td,{children:"11.1 cm"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"7"}),(0,i.jsx)(s.td,{children:"0.0000001"}),(0,i.jsx)(s.td,{children:"1.11 cm"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"8"}),(0,i.jsx)(s.td,{children:"0.00000001"}),(0,i.jsx)(s.td,{children:"1.11 mm"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"9"}),(0,i.jsx)(s.td,{children:"0.000000001"}),(0,i.jsx)(s.td,{children:"111 \u03bcm"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"10"}),(0,i.jsx)(s.td,{children:"0.0000000001"}),(0,i.jsx)(s.td,{children:"11.1 \u03bcm"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"11"}),(0,i.jsx)(s.td,{children:"0.00000000001"}),(0,i.jsx)(s.td,{children:"1.11 \u03bcm"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"12"}),(0,i.jsx)(s.td,{children:"0.000000000001"}),(0,i.jsx)(s.td,{children:"111 nm"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"13"}),(0,i.jsx)(s.td,{children:"0.0000000000001"}),(0,i.jsx)(s.td,{children:"11.1 nm"})]})]})]}),"\n",(0,i.jsx)(s.p,{children:"When using Maptaskr with Dynamics Field Service we recommend adding additional latitude/longitude columns to the following tables:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Case (Incident)"}),"\n",(0,i.jsx)(s.li,{children:"Customer Asset (msdyn_customerasset)"}),"\n",(0,i.jsx)(s.li,{children:"Work Order (msdyn_workorder)"}),"\n"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Name"}),(0,i.jsx)(s.th,{children:"Data Type"}),(0,i.jsx)(s.th,{children:"Min"}),(0,i.jsx)(s.th,{children:"Max"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Maptaskr Latitude"}),(0,i.jsx)(s.td,{children:"Decimal, 10 places"}),(0,i.jsx)(s.td,{children:"-90"}),(0,i.jsx)(s.td,{children:"90"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Maptaskr Longitude"}),(0,i.jsx)(s.td,{children:"Decimal, 10 places"}),(0,i.jsx)(s.td,{children:"-180"}),(0,i.jsx)(s.td,{children:"180"})]})]})]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:t(36114).A+"",width:"208",height:"590"})}),"\n",(0,i.jsx)(s.admonition,{type:"warning",children:(0,i.jsx)(s.p,{children:"There is currently a bug in Power Apps portal that means that decimal places are not set correctly when a column is first created, so create and save the column then edit to 10 decimal places! (Microsoft Product Group investigating)."})}),"\n",(0,i.jsx)(s.p,{children:"As these columns will be used when capturing data those in the Customer Asset and Work Order tables need to be synchronised with the out-of-the-box (OOTB) columns. The easiest way to do this is to create real-time Workflows (see screenshots below using Asset Latitude as an example):"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:t(84905).A+"",width:"936",height:"479"})}),"\n",(0,i.jsx)(s.p,{children:"Set Workflow to be Real Time and triggered when the Record is Created, or when the Maptaskr Latitude column is modified."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:t(30080).A+"",width:"936",height:"570"})}),"\n",(0,i.jsx)(s.p,{children:"Set the Latitude Column to be the same as the Maptaskr Latitude column.\nFollow a similar process to configure Longitude in this table and the Latitude/Longitude columns in the Work Order table."}),"\n",(0,i.jsx)(s.h2,{id:"configuring-maptaskr-data-source-settings",children:"Configuring Maptaskr Data Source Settings"}),"\n",(0,i.jsx)(s.h3,{id:"linking-tables-to-maptaskr",children:"Linking Tables to Maptaskr"}),"\n",(0,i.jsx)(s.p,{children:"Using the Maptaskr for Dynamics App configure Case, Customer Asset and Work Order to use these new columns. Also add Functional Location as a Maptaskr Data Source."}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{src:t(88735).A+"",width:"1395",height:"732"}),"\n",(0,i.jsx)(s.img,{src:t(10646).A+"",width:"903",height:"462"})]}),"\n",(0,i.jsx)(s.h3,{id:"creating-geo-tagged-records-from-maptaskr-dashboard",children:"Creating Geo-Tagged Records from Maptaskr Dashboard"}),"\n",(0,i.jsxs)(s.p,{children:["If you want users to be able to create geo-tagged records directly from the Maptaskr Dashboard set ",(0,i.jsx)(s.code,{children:"Allow in Context Menu?"})," to Yes."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:t(17677).A+"",width:"903",height:"474"})}),"\n",(0,i.jsx)(s.h3,{id:"display-records-as-icons-or-coloured-pins",children:"Display Records as Icons or Coloured Pins"}),"\n",(0,i.jsx)(s.p,{children:"Under the Views tab select the views that you want users to be able to choose from when viewing data on the Maptaskr Dashboard."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:t(75172).A+"",width:"1379",height:"706"})}),"\n",(0,i.jsx)(s.admonition,{type:"tip",children:(0,i.jsx)(s.p,{children:"If you want to use different colour pins or different colour/shaped icons when displaying the data, create separate filtered Dataverse Views for each category."})}),"\n",(0,i.jsx)(s.p,{children:"Screenshot below shows using icons and creating geo-tagged records from Maptaskr Dashboard using right-click menu."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:t(35395).A+"",width:"1379",height:"706"})}),"\n",(0,i.jsx)(s.p,{children:"A common use case in Field Service scenarios is managing additional processes like managing Permits to Work. Users also need to view ESRI ArcGIS layers showing additional context like proximity to high voltage power lines or underground services and need to draw shapes denoting the area in which they will be working."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:t(13818).A+"",width:"1379",height:"707"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:t(48584).A+"",width:"1379",height:"707"})}),"\n",(0,i.jsx)(s.h3,{id:"configuring-data-tab-columns",children:"Configuring Data Tab Columns"}),"\n",(0,i.jsx)(s.p,{children:"All records returned from a geospatial search are listed in the Data Tab at the bottom of the Maptaskr Dashboard screen. The Data Tab Fields tab defines the columns that are displayed and that can be searched."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:t(62801).A+"",width:"903",height:"462"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:t(32634).A+"",width:"903",height:"462"})}),"\n",(0,i.jsx)(s.h3,{id:"configuring-infobox-details",children:"Configuring Infobox Details"}),"\n",(0,i.jsx)(s.p,{children:"Entity Properties define the data to be displayed on the Details tab of the Infobox pop-up that appears when you click on a pin on the Maptaskr Dashboard. You can alias the column display name with a custom display name - often you may want to shorten/abbreviate the name, so it displays without wrapping on the Infobox."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:t(33859).A+"",width:"1379",height:"706"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:t(41352).A+"",width:"1379",height:"706"})}),"\n",(0,i.jsx)(s.h3,{id:"configuring-infobox-actions",children:"Configuring Infobox Actions"}),"\n",(0,i.jsx)(s.p,{children:"Infobox Actions enable you to provide information at a user's fingertips via configurable data-driven hyperlinks. These can be creating new records, such as tasks/actions, adding the record to a route or linking to other applications such as SharePoint, Power BI or 3rd party tools such as drone image analysis solutions."}),"\n",(0,i.jsxs)(s.p,{children:["See examples of Dashboard Actions in the screenshot below:\n",(0,i.jsx)(s.img,{src:t(89141).A+"",width:"903",height:"462"})]}),"\n",(0,i.jsxs)(s.p,{children:["The SharePoint action is a little more involved as it involves calling an external system and passing in a folder name parameter that relates to that record. Using Case as an example, create a calculated ",(0,i.jsx)(s.code,{children:"maptaskr_SharePointFolder"})," text column in the Incident table to create the folder parameter to be passed to the hyperlink and to parse out the hyphens from the record GUID with the Formula below (the path ",(0,i.jsx)(s.code,{children:'"/sites/Demo/incident/"'})," will vary depending on the SharePoint setup):"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-vba",children:'"/sites/Demo/incident/" & \'Case Title\' & "_" & Substitute(Case,"-","")\n'})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:t(21790).A+"",width:"903",height:"462"})}),"\n",(0,i.jsx)(s.p,{children:"For the Dashboard Action enter the following as the URL (again the path will vary depending on the SharePoint setup). The name of the calculated column should be enclosed in curly braces and will be appended to the URL thus making it dynamic & specific to this record:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.code,{children:"https://yoursharepointsitehere.sharepoint.com/sites/Demo/incident/Forms/AllItems.aspx?id={maptaskr_sharepointfolder}"})}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsxs)(s.p,{children:["Make sure you use the columns ",(0,i.jsx)(s.strong,{children:"logical"})," name (all lower case)"]})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:t(40103).A+"",width:"903",height:"462"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:t(79520).A+"",width:"903",height:"462"})}),"\n",(0,i.jsx)(s.h3,{id:"configuring-record-level-relationships",children:"Configuring Record Level Relationships"}),"\n",(0,i.jsxs)(s.p,{children:["In the Functional Location Maptaskr Data Source settings go to ",(0,i.jsx)(s.code,{children:"Record Level Relationships"})," and select Customer Asset as the Related Entity"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.code,{children:"msdyn_customerasset (msdyn_customerasset_FunctionalLocation_ms)"})}),"\n",(0,i.jsxs)(s.p,{children:["Untick the ",(0,i.jsx)(s.code,{children:"Create Related Records"})," check box."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:t(50697).A+"",width:"903",height:"462"})})]})}function h(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},36114:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture1-c8997d7e6e52db9e0b8b99cc5c872877.png"},48584:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture10-7f2edb5e6981cf12935940601992114a.png"},62801:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture11-ef196c0d4954d8099e091cf92032c454.png"},32634:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture12-f0fc4f0c0e93a447b8d746978bebe437.png"},33859:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture13-c4ed215ad3e4bfda69a363042bb3c32d.png"},41352:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture14-f2141aaead93716572d38819aae712b6.jpg"},89141:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture15-06dd57d7a24fed916e4b6ccea0c40be5.png"},21790:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture16-bea0d89b2f519504ebeaac70c6722324.png"},40103:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture17-fb17ec3c6982b94c1a8278c275ec3f58.png"},79520:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture18-4e3f17bcaa3c51cca3bbcaf0cf49ffd9.png"},50697:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture19-638914bb04f527695f11618bdf28dc47.png"},84905:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture2-a9e135c9c25196e7f5ced07819f0832c.png"},30080:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture3-1b649008aa9ebb99878b1cc679745114.png"},88735:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture4-9cf5d83b48b8b09d6793434baba0347c.png"},10646:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture5-6b6c723d08fd43b50f009c51be39a498.png"},17677:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture6-3c55d6525bfb90ac7d935178970875bb.png"},75172:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture7-a79809cfe4c1edca897ad09d756b65f4.png"},35395:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture8-da0fd3a06745ab9a6242bfb839b26296.png"},13818:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/Picture9-50a9337e2f53096e6e63349258b0d6eb.png"},28453:(e,s,t)=>{t.d(s,{R:()=>r,x:()=>d});var i=t(96540);const n={},a=i.createContext(n);function r(e){const s=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),i.createElement(a.Provider,{value:s},e.children)}}}]);