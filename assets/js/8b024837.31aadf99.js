"use strict";(self.webpackChunkmaptaskr_docs_copy=self.webpackChunkmaptaskr_docs_copy||[]).push([[3953],{6627:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>n,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var i=r(74848),s=r(28453);const a={},n="ArcGIS GIS Layer",o={id:"dynamics-365/arcgis-configuration/arcgis-gis-layer",title:"ArcGIS GIS Layer",description:"Maptaskr provides the ability to configure ArcGIS web services to allow GIS layers to be utilised within the Maptaskr solution.",source:"@site/docs/dynamics-365/arcgis-configuration/arcgis-gis-layer.md",sourceDirName:"dynamics-365/arcgis-configuration",slug:"/dynamics-365/arcgis-configuration/arcgis-gis-layer",permalink:"/docs/dynamics-365/arcgis-configuration/arcgis-gis-layer",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"maptaskrSidebar",previous:{title:"Enterprise GIS Configuration",permalink:"/docs/dynamics-365/arcgis-configuration/enterprise-gis-configuration"},next:{title:"Data Source Configuration",permalink:"/docs/dynamics-365/arcgis-configuration/data-source-configuration"}},d={},c=[{value:"Adding GIS Service Layers",id:"adding-gis-service-layers",level:2},{value:"Figure 15: Corporate Layers.",id:"figure-15-corporate-layers",level:5},{value:"Add an ArcGIS Service Layer",id:"add-an-arcgis-service-layer",level:2},{value:"Figure 16: Add Corporate Layer.",id:"figure-16-add-corporate-layer",level:5},{value:"Figure 17: Add Service Layer.",id:"figure-17-add-service-layer",level:5},{value:"Figure 18: Example ArcGIS Layer Configured.",id:"figure-18-example-arcgis-layer-configured",level:5},{value:"Layer Authentication - Static Token Auth",id:"layer-authentication---static-token-auth",level:3},{value:"Figure 19: Configuring Static Tokens.",id:"figure-19-configuring-static-tokens",level:5}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h5:"h5",img:"img",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"arcgis-gis-layer",children:"ArcGIS GIS Layer"}),"\n",(0,i.jsx)(t.p,{children:"Maptaskr provides the ability to configure ArcGIS web services to allow GIS layers to be utilised within the Maptaskr solution."}),"\n",(0,i.jsx)(t.h2,{id:"adding-gis-service-layers",children:"Adding GIS Service Layers"}),"\n",(0,i.jsx)(t.p,{children:"Layers are managed via the Layers panel, which is accessible via the top navigation."}),"\n",(0,i.jsx)(t.h5,{id:"figure-15-corporate-layers",children:"Figure 15: Corporate Layers."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:r(94768).A+"",width:"2638",height:"1522"})}),"\n",(0,i.jsx)(t.p,{children:"Corporate layers are arranged by the administrator to provide global access to all licensed Maptaskr users."}),"\n",(0,i.jsx)(t.h2,{id:"add-an-arcgis-service-layer",children:"Add an ArcGIS Service Layer"}),"\n",(0,i.jsxs)(t.p,{children:["To add a layer, click ",(0,i.jsx)(t.code,{children:"Add Corporate Layer"})," and you see the Add Layer modal dialog."]}),"\n",(0,i.jsx)(t.h5,{id:"figure-16-add-corporate-layer",children:"Figure 16: Add Corporate Layer."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:r(66059).A+"",width:"830",height:"646"})}),"\n",(0,i.jsx)(t.p,{children:"Click on the Service tab to show the settings to configure a layer service."}),"\n",(0,i.jsx)(t.h5,{id:"figure-17-add-service-layer",children:"Figure 17: Add Service Layer."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:r(44930).A+"",width:"1480",height:"1582"})}),"\n",(0,i.jsxs)(t.p,{children:["To add a layer from an ArcGIS service, set the ",(0,i.jsx)(t.code,{children:"Service Type"})," drop down to ",(0,i.jsx)(t.code,{children:"ArcGIS"}),", and this will reconfigure the configuration screen, and prompt (ArcGIS, etc):"]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"FIELD"}),(0,i.jsx)(t.th,{children:"DESCRIPTION"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Layer name"})}),(0,i.jsx)(t.td,{children:"Layer name will be the display name for the layer in your layer menu."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Service type"})}),(0,i.jsxs)(t.td,{children:["\xa0\xa0\xa0\xa0 Service type is used to determine where this layer is coming from. ",(0,i.jsx)("br",{})," ",(0,i.jsx)("li",{children:'If you select "ArcGIS" you will be prompted to select the Auth Type for the layer. '})," ",(0,i.jsx)("br",{})," ",(0,i.jsx)("li",{children:"If your ArcGIS layer is secured using authentication, then we highly recommend arranging for the designated Maptaskr Administrator to configure this as a Corporate Layer. "})," ",(0,i.jsx)("br",{})," ",(0,i.jsx)("li",{children:"If the layer uses Authentication that is already configured choose the relevant option from the dropdown."})," ",(0,i.jsx)("br",{})," ",(0,i.jsx)("li",{children:"If your ArcGIS layer is unauthenticated, don't select anything here."})]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Layer URL"})}),(0,i.jsx)(t.td,{children:"Layer URL is the URL to retrieve the Layer from."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Item ID"})}),(0,i.jsxs)(t.td,{children:["Provides the ability to enable Layer specific attributes, like what attributes can be visible are controlled with item it. ",(0,i.jsx)("br",{})," See ",(0,i.jsx)(t.a,{href:"https://developers.arcgis.com/documentation/glossary/item-id/#:~:text=An%20item%20ID%20is%20a,item%20from%20the%20ArcGIS%20portal.",children:"ArcGIS Developer glossary \u2013 Item ID"})," for details."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Additional Parameters"})}),(0,i.jsxs)(t.td,{children:["Provides the ability to append additional query parameters to ",(0,i.jsx)(t.strong,{children:"every"})," request for this layer. These need to be configured in standard query string format. E.g. ",(0,i.jsx)(t.code,{children:"key1=value1&key2=value2"}),"."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Auth Types"})}),(0,i.jsxs)(t.td,{children:["Sets the authentication type to use for this layer \u2013 ",(0,i.jsx)("br",{})," ",(0,i.jsxs)("li",{children:[(0,i.jsx)(t.strong,{children:"Auth Application"})," \u2013 If needing to provide application-level authentication to access the layer. Will need to have an Auth Application preconfigured. See section ",(0,i.jsx)(t.a,{href:"/docs/dynamics-365/arcgis-configuration/enterprise-gis-configuration#arcgis-auth-applications",children:"ArcGIS Auth Applications"})," for details on how to configure this."]})," ",(0,i.jsx)("br",{})," ",(0,i.jsxs)("li",{children:[(0,i.jsx)(t.strong,{children:"Auth User"})," - If needing to provide user-level authentication to access the layer. "]}),(0,i.jsx)("br",{})," ",(0,i.jsxs)("li",{children:[(0,i.jsx)(t.strong,{children:"Static Token Auth"})," \u2013 Allows you to specify a per-layer static token to authenticate with. For more details see ",(0,i.jsx)(t.a,{href:"#layer-authentication---static-token-auth",children:"Layer Authentication - Static Token Auth"}),"."]}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"Selecting the Static Token Auth type will enable a Static Token field which will need to be configured for use. ",(0,i.jsx)("br",{}),(0,i.jsx)(t.img,{src:r(54218).A+"",width:"1156",height:"212"})]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Group"})}),(0,i.jsx)(t.td,{children:"By adding a group to a layer, user can bundle other layers into an expandable group to reduce screen real estate usage."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Security Group"})}),(0,i.jsx)(t.td,{children:"By adding a security group to a layer, user can set permission for the layer to be viewed if the end user is a part of certain team or has a specific role."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Metadata Style"})}),(0,i.jsx)(t.td,{children:"Metadata style refers to how the attribute data is displayed when clicking on an interactive feature."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Enable in Portal"})}),(0,i.jsx)(t.td,{children:"Sets the layer to be available to the Maptaskr for Power Apps Portal solution (Licensed separately)."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Is Authenticated"})}),(0,i.jsxs)(t.td,{children:["Sets the layer to be authenticated in portal solution. See portal documentation for more info. ",(0,i.jsx)("br",{}),"This property requires ",(0,i.jsx)(t.code,{children:"Enabled in Portal"})," to be enabled."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Enable Export"})}),(0,i.jsx)(t.td,{children:"Sets the layer to enable export. When this is enabled, users will be able to export data from the attributes table for this layer."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Add as a Data Source"})}),(0,i.jsx)(t.td,{children:"Sets the layer to be able to be utilised for more in-depth integrations at a record level via the use of relationships."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Add as Default Layer"})}),(0,i.jsx)(t.td,{children:"Sets the layers as a default layer that loads on default."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Add as Custom Basemap"})}),(0,i.jsx)(t.td,{children:"Sets the layer to be made available as a basemap available to users."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Add as Default Basemap"})}),(0,i.jsx)(t.td,{children:"Will set the layer to be the default Maptaskr basemap layer."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Add as Custom Search Endpoint"})}),(0,i.jsx)(t.td,{children:"Enable the ability to utilise the service endpoint as a custom address search service provider."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Enable feature interaction"})}),(0,i.jsx)(t.td,{children:"Allows clicking on features to display attribute data (if applicable to the layer)"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Enable symbology"})}),(0,i.jsx)(t.td,{children:"Tells the Maptaskr control to respect the symbology given by a layer (if applicable)"})]})]})]}),"\n",(0,i.jsxs)(t.p,{children:["Once all mandatory and appropriate fields have been configured for the layer in question, click ",(0,i.jsx)(t.code,{children:"Upload"})," to add the layer to the list of layers available to the appropriate Maptaskr users. These layers can be turned on to provide overlays on the Maptaskr map."]}),"\n",(0,i.jsx)(t.h5,{id:"figure-18-example-arcgis-layer-configured",children:"Figure 18: Example ArcGIS Layer Configured."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:r(23109).A+"",width:"1952",height:"1520"})}),"\n",(0,i.jsx)(t.h3,{id:"layer-authentication---static-token-auth",children:"Layer Authentication - Static Token Auth"}),"\n",(0,i.jsx)(t.p,{children:"ArcGIS layers can also be configured to use a static token on a per layer scope. This allows you to have a specific token for each layer and gives you the flexibility to implement your own flows that regularly refresh these tokens. When used in combination with the token refresh interval it is possible to have rolling tokens for additional security."}),"\n",(0,i.jsx)(t.p,{children:"To configure a static token head into the D365 solution and edit or create an ArcGIS layer via the dashboard map."}),"\n",(0,i.jsx)(t.h5,{id:"figure-19-configuring-static-tokens",children:"Figure 19: Configuring Static Tokens."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:r(56572).A+"",width:"628",height:"619"})}),"\n",(0,i.jsxs)(t.p,{children:["You will need to set ",(0,i.jsx)(t.code,{children:"Static Token Auth"})," from the ",(0,i.jsx)(t.code,{children:"Auth Types"})," dropdown. This will enable the ",(0,i.jsx)(t.code,{children:"Static Token"})," field. Now you can enter your static token. When the portal control finds a layer with Static Token Auth enabled it will append this static token to every request for this layer."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Tip"}),": You can implement secure server-to-server authentication by setting up a process for programmatically getting and setting this token based on the security needs of your organisation. Some customers utilise an integration service such as Power Automate or Logic App, which polls the token periodically and updates the corresponding Maptaskr layer configuration entry."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Note"}),": If a layer is configured for Static Token Auth it will attempt to load the static token and use it for all queries regardless of the ",(0,i.jsx)(t.code,{children:"Is Authenticated"})," field being enabled."]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},94768:(e,t,r)=>{r.d(t,{A:()=>i});const i=r.p+"assets/images/figure-15-c56027101fab81fcbf93adaf773e48d0.png"},66059:(e,t,r)=>{r.d(t,{A:()=>i});const i=r.p+"assets/images/figure-16-342b270cd6fb7322fbe157a860b9b10c.png"},44930:(e,t,r)=>{r.d(t,{A:()=>i});const i=r.p+"assets/images/figure-17-590e2683cb7802e116fee1ee5b281f64.png"},23109:(e,t,r)=>{r.d(t,{A:()=>i});const i=r.p+"assets/images/figure-18-5c80fab6882bc41fc9c2474fd1c5aba7.png"},56572:(e,t,r)=>{r.d(t,{A:()=>i});const i=r.p+"assets/images/figure-19-b234d8ed5d67c2de1a55cdb11ff663e2.png"},54218:(e,t,r)=>{r.d(t,{A:()=>i});const i=r.p+"assets/images/table7-1-93095e58b4ba3ea01694917f0df307e1.png"},28453:(e,t,r)=>{r.d(t,{R:()=>n,x:()=>o});var i=r(96540);const s={},a=i.createContext(s);function n(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:n(e.components),i.createElement(a.Provider,{value:t},e.children)}}}]);