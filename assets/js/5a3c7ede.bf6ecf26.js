"use strict";(self.webpackChunkmaptaskr_docs_copy=self.webpackChunkmaptaskr_docs_copy||[]).push([[8638],{54278:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>p});var n=a(74848),o=a(28453);const i={},s="Incident map",r={id:"tutorials/maptaskr-for-power-pages-311-solution/incident-map",title:"Incident map",description:"Using Power Pages Design Studio create a blank page. This will be for an Incident Map showing existing cases and provides a series of buttons to report problems of different types. Add a Header section and a one third left section below. In the left-hand section add images representing the different types of incidents and link these to a new Report a Problem page.",source:"@site/docs/tutorials/maptaskr-for-power-pages-311-solution/incident-map.md",sourceDirName:"tutorials/maptaskr-for-power-pages-311-solution",slug:"/tutorials/maptaskr-for-power-pages-311-solution/incident-map",permalink:"/docs/tutorials/maptaskr-for-power-pages-311-solution/incident-map",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"maptaskrSidebar",previous:{title:"Configuring Maptaskr for Power Pages - Creating a 311 solution",permalink:"/docs/tutorials/maptaskr-for-power-pages-311-solution/introduction"},next:{title:"Displaying existing cases",permalink:"/docs/tutorials/maptaskr-for-power-pages-311-solution/displaying-existing-cases"}},l={},p=[];function d(e){const t={a:"a",code:"code",h1:"h1",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"incident-map",children:"Incident map"}),"\n",(0,n.jsxs)(t.p,{children:["Using Power Pages Design Studio create a blank page. This will be for an Incident Map showing existing cases and provides a series of buttons to report problems of different types. Add a Header section and a ",(0,n.jsx)(t.code,{children:"one third left"})," section below. In the left-hand section add images representing the different types of incidents and link these to a new Report a Problem page."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:a(20189).A+"",width:"1430",height:"732"})}),"\n",(0,n.jsxs)(t.p,{children:["In the Portal Management App open the ",(0,n.jsx)(t.code,{children:"Incident Map"})," web page and click on ",(0,n.jsx)(t.code,{children:"Incident Map"})," in the ",(0,n.jsx)(t.code,{children:"Localized Content"})," section."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:a(38982).A+"",width:"936",height:"479"})}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"Copy (HTML)"})," contains the HTML code for the page."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:a(4175).A+"",width:"936",height:"479"})}),"\n",(0,n.jsxs)(t.p,{children:["In the ",(0,n.jsx)(t.code,{children:"<div>"})," of the column in the section where we want to add the map we need to add a code component. See example below."]}),"\n",(0,n.jsx)(t.p,{children:"There are a number of yes/no flags that turn features on and off."}),"\n",(0,n.jsxs)(t.p,{children:["There is also a Maptaskr API call at the end to default the map area displayed (extent). In this scenario it will typically this will be the city jurisdiction limit. See: ",(0,n.jsx)(t.a,{href:"/docs/power-pages/registerable-events/data-accessor-functions",children:"Data Accessor Functions"})," The Maptaskr code component and API call have been highlighted."]}),"\n",(0,n.jsx)(t.p,{children:"The links from each button have also been edited to pass a Subject parameter to default the Subject when creating a case. These match Subjects that have been set up for Case Management and can be used to drive queues/routing and other business rules."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-html",children:'<div id="iuc7pr" class="row sectionBlockLayout text-left" style="display: flex; flex-wrap: wrap; margin: 0px; min-height: auto; padding: 8px;">\n  <div id="ilqztz" class="container" style="padding: 0px; display: flex; flex-wrap: wrap;">\n    <div id="ihrcrf" class="col-md-12 columnBlockLayout" style="flex-grow: 1; display: flex; flex-direction: column; min-width: 250px; word-break: break-word;"><img src="/cityofvincenthomebanner.png" alt="cityofvincenthomebanner" name="cityofvincenthomebanner.png" id="iodr32" style="width: 100%; height: auto; max-width: 100%;" /></div>\n  </div>\n</div>\n<div id="ihv0e1" class="row sectionBlockLayout text-left" style="display: flex; flex-wrap: wrap; margin: 0px; min-height: auto; padding: 8px;">\n  <div id="i3asz3" class="container" style="display: flex; flex-wrap: wrap; column-gap: 20px;">\n    <div id="i78icy" class="col-md-4 columnBlockLayout" style="flex-grow: 1; display: flex; flex-direction: column; min-width: 250px; word-break: break-word; padding: 10px; margin: 5px 0px; width: calc(30% - 20px);">\n      <a alt="CoV_pothole_button" href="/Report-a-Problem?subject=pothole" value="Report-a-Problem" style="width: 70%; height: 40px; max-width: 100%; display: inline; en: 1; gap: 15px; flex-shrink: 0;"><img src="/CoVpotholebutton.jpg" alt="CoV_pothole_button" name="CoV_pothole_button.jpg" style="max-width: 100%; height: 100%; width: 100%;" /></a>\n      <div class="row sectionBlockLayout" style="display: flex; flex-wrap: wrap; padding: 8px; margin: 0px; min-height: 15px;"></div>\n      <a alt="CoV_traffic_signal_button" href="/Report-a-Problem?subject=traffic_signal" value="Report-a-Problem" style="width: 70%; height: auto; max-width: 100%; display: flex; gap: 0px; flex-shrink: 0;"><img src="/CoVtrafficsignalbutton.jpg" alt="CoV_traffic_signal_button" name="CoV_traffic_signal_button.jpg" style="max-width: 100%; height: 100%; width: 100%;" /></a>\n      <div class="row sectionBlockLayout" style="display: flex; flex-wrap: wrap; padding: 8px; margin: 0px; min-height: 15px;"></div>\n      <a alt="CoV_Streetlight_button" href="/Report-a-Problem?subject=streetlight" value="Report-a-Problem" style="width: 70%; height: auto; max-width: 100%; display: flex; flex-shrink: 0; gap: 0px;"><img src="/CoVStreetlightbutton.jpg" alt="CoV_Streetlight_button" name="CoV_Streetlight_button.jpg" style="max-width: 100%; height: 100%; width: 100%;" /></a>\n      <div class="row sectionBlockLayout" style="display: flex; flex-wrap: wrap; padding: 8px; margin: 0px; min-height: 15px;"></div>\n      <a alt="CoV_water_leak_button" href="/Report-a-Problem?subject=water_leak" value="Report-a-Problem" style="width: 70%; height: auto; max-width: 100%; display: flex; gap: 0px; flex-shrink: 0;"><img src="/CoVwaterleakbutton.jpg" alt="CoV_water_leak_button" name="CoV_water_leak_button.jpg" style="max-width: 100%; height: 100%; width: 100%;" /></a>\n      <div class="row sectionBlockLayout" style="display: flex; flex-wrap: wrap; padding: 8px; margin: 0px; min-height: 15px;"></div>\n      <a alt="CoV_Rubbish_button" href="/Report-a-Problem?subject=rubbish" value="Report-a-Problem" style="width: 70%; height: auto; max-width: 100%; display: flex; flex-shrink: 0; gap: 0px;"><img src="/CoVRubbishbutton.jpg" alt="CoV_Rubbish_button" name="CoV_Rubbish_button.jpg" style="max-width: 100%; height: 100%; width: 100%;" /></a>\n      <div class="row sectionBlockLayout" style="display: flex; flex-wrap: wrap; padding: 8px; margin: 0px; min-height: 15px;"></div>\n      <a alt="CoV_Park_Equipment_button" href="/Report-a-Problem?subject=park_equipment" value="Report-a-Problem" style="width: 70%; height: auto; max-width: 100%; display: flex; gap: 0px; flex-shrink: 0;"><img src="/CoVParkEquipmentbutton.jpg" alt="CoV_Park_Equipment_button" name="CoV_Park_Equipment_button.jpg" style="max-width: 100%; height: 100%; width: 100%;" /></a>\n      <div class="row sectionBlockLayout" style="display: flex; flex-wrap: wrap; padding: 8px; margin: 0px; min-height: 15px;"></div>\n      <a alt="CoV_grafitti_button" href="/Report-a-Problem?subject=graffiti" value="Report-a-Problem" style="width: 70%; height: auto; max-width: 100%; display: flex; gap: 0px; flex-shrink: 0;"><img src="/CoVgrafittibutton.jpg" alt="CoV_grafitti_button" name="CoV_grafitti_button.jpg" style="max-width: 100%; height: 100%; width: 100%;" /></a>\n      <div class="row sectionBlockLayout" style="display: flex; flex-wrap: wrap; padding: 8px; margin: 0px; min-height: 15px;"></div>\n      <a alt="CoV_nuisance_button" href="/Report-a-Problem?subject=nuisance" value="Report-a-Problem" style="width: 70%; height: auto; max-width: 100%; display: flex; flex-shrink: 0; gap: 0px;"><img src="/CoVnuisancebutton.jpg" alt="CoV_nuisance_button" name="CoV_nuisance_button.jpg" style="max-width: 100%; height: 100%; width: 100%;" /></a>\n      <div class="row sectionBlockLayout" style="display: flex; flex-wrap: wrap; padding: 8px; margin: 0px; min-height: 15px;"></div>\n      <a alt="CoV_another_problem_button" href="/Report-a-Problem?subject=Other_problem" value="Report-a-Problem" style="width: 70%; height: auto; max-width: 100%; display: flex; flex-shrink: 0; gap: 0px;"><img src="/CoVanotherproblembutton.jpg" alt="CoV_another_problem_button" name="CoV_another_problem_button.jpg" style="max-width: 100%; height: 100%; width: 100%;" /></a>\n    </div>\n    <div id="i9dxqg" class="col-md-8 columnBlockLayout" style="flex-grow: 1; display: flex; flex-direction: column; min-width: 250px; word-break: break-word; padding: 10px; margin: 5px 0px; width: calc(70% - 20px);">\n\t\t// highlight-start\n\t\t{% codecomponent name:maptaskr_MaptaskrPCF.MtrPCF designHeightOfMap:\'60vh\' featuresShowMapDownload:\'no\' featuresDownloadMapFormat:\'pdf\' featuresShowScaleBar:\'yes\' featuresShowExtentControls:\'yes\' featuresShowLayersSearch:\'no\' featuresDefaultTabOpened:\'none\' preSelectedLayers:\'\' snapSelectedLayers:\'\' traceSelectedLayers: \' exclusionarySelectedLayers:\'\' intersectionSelectedLayers:\'\' intersectionWarningBuffers:\'\' intersectionErrorBuffers:\'\' featuresAutoCollapseTabs:\'yes\' constrainBoundaries:\'\' uploadsShowAnnotationControl:\'no\' uploadsAnnotationColor:\'#00354e\' uploadsAllowedUploadTypes:\'Draw\' uploadsAllowedProjections:\'\' showFileCount:\'0\' shapeNames:\'Boundary\' shapeStrokeColors:\'\' shapeFillColors:\'\' shapeDashedLine:\'\' tabsShowSearch:\'yes\' tabsShowBasemap:\'yes\' tabsShowMeasurement:\'no\' tabsShowDrawUpload:\'no\' tabsShowMapLayers:\'no\' tabsShowLegend:\'no\' tabsShowHelpGuide:\'no\' loadShapes:\'no\' loadRelatedShapes:\'No\' loadShapesCustomEndpoint:\'\' loadDataverseLayers:\'Yes\' loadDataverseLayersCustomEndpoint:\'/active-incidents\' loadRelatedShapesCustomEndpoint:\'\' numberOfConcurrentIntersectionCalls:\'20\' %}\n\t\t// highlight-end\n\t</div>\n  </div>\n</div>\n//highlight-start\n<script>\n    $(document).ready(function() {\n        console.log("Document is ready!");\n        window.maptaskrReady = function() {\n          console.log("Maptaskr has Loaded");\n          console.log(window.maptaskrPCF);\n          window[\'maptaskrPCF\'].navigateToExtent(-31.93981115,115.81882694,-31.9180549,115.8433629);\n        }\n    });\n<\/script>\n// highlight-end\n'})})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},20189:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/Picture1-d3959482c7dc5d5aaf8602b6cb9713e4.png"},38982:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/Picture2-9777a96bb8f9b0718ad01ffb8eb6f352.png"},4175:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/Picture3-ae73c6777278ce69f7126ade34751bdf.png"},28453:(e,t,a)=>{a.d(t,{R:()=>s,x:()=>r});var n=a(96540);const o={},i=n.createContext(o);function s(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);