"use strict";(self.webpackChunkmaptaskr_docs_copy=self.webpackChunkmaptaskr_docs_copy||[]).push([[8638],{90655:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>c});var n=a(74848),o=a(28453);const r={title:"Tutorials | 311 Solution | Incident Map",sidebar_label:"Incident Map"},s="Incident map",i={id:"tutorials/maptaskr-for-power-pages-311-solution/incident-map",title:"Tutorials | 311 Solution | Incident Map",description:"Using Power Pages Design Studio create a blank page. This will be for an Incident Map showing existing cases and provides a series of buttons to report problems of different types. Add a Header section and a one third left section below. In the left-hand section add buttons with icons representing the different types of incidents and link these to a new Report a Problem page.",source:"@site/docs/tutorials/maptaskr-for-power-pages-311-solution/incident-map.md",sourceDirName:"tutorials/maptaskr-for-power-pages-311-solution",slug:"/tutorials/maptaskr-for-power-pages-311-solution/incident-map",permalink:"/docs/tutorials/maptaskr-for-power-pages-311-solution/incident-map",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Tutorials | 311 Solution | Incident Map",sidebar_label:"Incident Map"},sidebar:"maptaskrSidebar",previous:{title:"Introduction",permalink:"/docs/tutorials/maptaskr-for-power-pages-311-solution/introduction"},next:{title:"Displaying existing cases",permalink:"/docs/tutorials/maptaskr-for-power-pages-311-solution/displaying-existing-cases"}},l={},c=[];function d(e){const t={a:"a",code:"code",h1:"h1",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"incident-map",children:"Incident map"}),"\n",(0,n.jsxs)(t.p,{children:["Using Power Pages Design Studio create a blank page. This will be for an Incident Map showing existing cases and provides a series of buttons to report problems of different types. Add a Header section and a ",(0,n.jsx)(t.code,{children:"one third left"})," section below. In the left-hand section add buttons with icons representing the different types of incidents and link these to a new Report a Problem page."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:a(8720).A+"",width:"1834",height:"877"})}),"\n",(0,n.jsxs)(t.p,{children:["In the Portal/Power Pages Management App open the ",(0,n.jsx)(t.code,{children:"Incident Map"})," web page and click on ",(0,n.jsx)(t.code,{children:"Incident Map"})," in the ",(0,n.jsx)(t.code,{children:"Localized Content"})," section."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:a(38982).A+"",width:"936",height:"479"})}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"Copy (HTML)"})," contains the HTML code for the page."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:a(4175).A+"",width:"936",height:"479"})}),"\n",(0,n.jsxs)(t.p,{children:["In the ",(0,n.jsx)(t.code,{children:"<div>"})," of the column in the section where we want to add the map we need to add a code component. See example below."]}),"\n",(0,n.jsx)(t.p,{children:"There are a number of yes/no flags that turn features on and off."}),"\n",(0,n.jsxs)(t.p,{children:["There is also a Maptaskr API call at the end to default the map area displayed (extent). In this scenario it will typically this will be the city jurisdiction limit. See: ",(0,n.jsx)(t.a,{href:"/docs/power-pages/registerable-events/data-accessor-functions",children:"Data Accessor Functions"})," The Maptaskr code component and API call have been highlighted."]}),"\n",(0,n.jsx)(t.p,{children:"The links from each button have also been edited to pass a Subject parameter to default the Subject when creating a case. These match Subjects that have been set up for Case Management and can be used to drive queues/routing and other business rules."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-html",children:'<style>\n.reportButtonIcon {\n    position: absolute;\n    left: 10px;\n    top: 2px;\n    background-color: black;\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    object-position: center;\n    vertical-align: middle;\n    line-height: 30px !important;\n    color: white;\n    text-align: center;\n    text-shadow: 1px 0px 4px black;\n}\n.reportButton {\n    color:black;\n    border: 1px solid black;\n    margin: 10px;\n    position:relative;\n}\n</style>\n\n<div id="iuc7pr" class="row sectionBlockLayout text-left" style="display: flex; flex-wrap: wrap; margin: 0px; min-height: auto; padding: 8px;">\n  <div id="ilqztz" class="container" style="padding: 0px; display: flex; flex-wrap: wrap;">\n    <div id="ihrcrf" class="col-md-12 columnBlockLayout" style="flex-grow: 1; display: flex; flex-direction: column; min-width: 250px; word-break: break-word;"><img src="/cityofvincenthomebanner.png" alt="cityofvincenthomebanner" name="cityofvincenthomebanner.png" id="iodr32" style="width: 100%; height: auto; max-width: 100%;"></div>\n  </div>\n</div>\n<div id="ihv0e1" class="row sectionBlockLayout text-left" style="display: flex; flex-wrap: wrap; margin: 0px; min-height: auto; padding: 8px;">\n  <div id="i3asz3" class="container" style="display: flex; flex-wrap: wrap; column-gap: 20px;">\n    <div id="i78icy" class="col-md-4 columnBlockLayout" style="flex-grow: 1; display: flex; flex-direction: column; min-width: 250px; word-break: break-word; padding: 10px; margin: 5px 0px; width: calc(30% - 20px);">\n      <a alt="CoV_pothole_button" href="/Report-a-Problem?subject=pothole" class="btn btn-default reportButton" value="Report-a-Problem"><span class="fa fa-car reportButtonIcon" aria-hidden="true"></span>Pothole</a>\n      <a alt="CoV_traffic_signal_button" href="/Report-a-Problem?subject=traffic_signal" class="btn btn-default reportButton" value="Report-a-Problem"><span class="fa fa-traffic-light reportButtonIcon" style="background-color:red;" aria-hidden="true"></span>Traffic Light Maintenance</a>\n      <a alt="CoV_Streetlight_button" href="/Report-a-Problem?subject=streetlight" class="btn btn-default reportButton" value="Report-a-Problem"><span class="fa fa-lightbulb reportButtonIcon" style="background-color:yellow;" aria-hidden="true"></span>Streetlight Maintenance</a>\n      <a alt="CoV_water_leak_button" href="/Report-a-Problem?subject=water_leak" class="btn btn-default reportButton" value="Report-a-Problem"><span class="fa fa-water reportButtonIcon" style="background-color:cyan;" aria-hidden="true"></span>Water Leak</a>\n      <a alt="CoV_Rubbish_button" href="/Report-a-Problem?subject=rubbish" class="btn btn-default reportButton" value="Report-a-Problem"><span class="fa fa-trash reportButtonIcon" style="background-color:brown;" aria-hidden="true"></span>Rubbish Problem</a>\n      <a alt="CoV_Park_Equipment_button" href="/Report-a-Problem?subject=park_equipment" class="btn btn-default reportButton" value="Report-a-Problem"><span class="fa fa-city reportButtonIcon" style="background-color:green;" aria-hidden="true"></span>Park Equipment Problem</a>\n      <a alt="CoV_grafitti_button" href="/Report-a-Problem?subject=graffiti" class="btn btn-default reportButton" value="Report-a-Problem"><span class="fa fa-spray-can reportButtonIcon" style="background-color:magenta;" aria-hidden="true"></span>Graffiti</a>\n      <a alt="CoV_nuisance_button" href="/Report-a-Problem?subject=nuisance" class="btn btn-default reportButton" value="Report-a-Problem"><span class="fa fa-ban reportButtonIcon" style="background-color:orange;" aria-hidden="true"></span>Nuisance on Property</a>\n      <a alt="CoV_another_problem_button" href="/Report-a-Problem?subject=Other_problem" class="btn btn-default reportButton" value="Report-a-Problem"><span class="fa fa-exclamation reportButtonIcon" style="background-color:purple;" aria-hidden="true"></span>Report Another Problem</a>\n    </div>\n    <div id="i9dxqg" class="col-md-8 columnBlockLayout" style="flex-grow: 1; display: flex; flex-direction: column; min-width: 250px; word-break: break-word; padding: 10px; margin: 5px 0px; width: calc(70% - 20px);">\n      //highlight-start\n      {% codecomponent name:maptaskr_MaptaskrPCF.MtrPCF designHeightOfMap:\'60vh\' featuresShowMapDownload:\'no\' featuresDownloadMapFormat:\'pdf\' featuresShowScaleBar:\'yes\' featuresShowExtentControls:\'yes\' featuresShowLayersSearch:\'no\' featuresDefaultTabOpened:\'none\' preSelectedLayers:\'\' snapSelectedLayers:\'\' traceSelectedLayers: \' exclusionarySelectedLayers:\'\' intersectionSelectedLayers:\'\' intersectionWarningBuffers:\'\' intersectionErrorBuffers:\'\' featuresAutoCollapseTabs:\'yes\' constrainBoundaries:\'\' uploadsShowAnnotationControl:\'no\' uploadsAnnotationColor:\'#00354e\' uploadsAllowedUploadTypes:\'Draw\' uploadsAllowedProjections:\'\' showFileCount:\'0\' shapeNames:\'Boundary\' shapeStrokeColors:\'\' shapeFillColors:\'\' shapeDashedLine:\'\' tabsShowSearch:\'yes\' tabsShowBasemap:\'yes\' tabsShowMeasurement:\'no\' tabsShowDrawUpload:\'no\' tabsShowMapLayers:\'no\' tabsShowLegend:\'yes\' tabsShowHelpGuide:\'no\' loadShapes:\'no\' loadRelatedShapes:\'No\' loadShapesCustomEndpoint:\'\' loadDataverseLayers:\'Yes\' loadDataverseLayersCustomEndpoint:\'/active-incidents\' loadRelatedShapesCustomEndpoint:\'\' numberOfConcurrentIntersectionCalls:\'20\' %}\n      //highlight-end\n    </div>\n  </div>\n</div>\n//highlight-start\n<script>\n  $(document).ready(function() {\n      console.log("Document is ready!");\n      window.maptaskrReady = function() {\n\n        console.log("Maptaskr has Loaded");\n\n        console.log(window.maptaskrPCF);\n        window[\'maptaskrPCF\'].navigateToExtent(-31.93981115,115.81882694,-31.9180549,115.8433629);\n      }\n  });\n<\/script>\n//highlight-end\n'})})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},38982:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/Picture2-9777a96bb8f9b0718ad01ffb8eb6f352.png"},8720:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/Picture24-34dd5722994495b0fd670a1790af88b7.png"},4175:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/Picture3-ae73c6777278ce69f7126ade34751bdf.png"},28453:(e,t,a)=>{a.d(t,{R:()=>s,x:()=>i});var n=a(96540);const o={},r=n.createContext(o);function s(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);