<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorials/maptaskr-for-dynamics-365-custom-sublayer-selection/configuring-custom-js" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Tutorials | Custom Sublayer Selection | Configuring Custom.JS | Maptaskr Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://maptaskr.github.io/img/MaptaskrIcon.jpg"><meta data-rh="true" name="twitter:image" content="https://maptaskr.github.io/img/MaptaskrIcon.jpg"><meta data-rh="true" property="og:url" content="https://maptaskr.github.io/docs/tutorials/maptaskr-for-dynamics-365-custom-sublayer-selection/configuring-custom-js"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Tutorials | Custom Sublayer Selection | Configuring Custom.JS | Maptaskr Docs"><meta data-rh="true" name="description" content="Below is a snippet of the Custom.JS code for your reference:"><meta data-rh="true" property="og:description" content="Below is a snippet of the Custom.JS code for your reference:"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://maptaskr.github.io/docs/tutorials/maptaskr-for-dynamics-365-custom-sublayer-selection/configuring-custom-js"><link data-rh="true" rel="alternate" href="https://maptaskr.github.io/docs/tutorials/maptaskr-for-dynamics-365-custom-sublayer-selection/configuring-custom-js" hreflang="en"><link data-rh="true" rel="alternate" href="https://maptaskr.github.io/docs/tutorials/maptaskr-for-dynamics-365-custom-sublayer-selection/configuring-custom-js" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CWJ57KRKJ8"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CWJ57KRKJ8",{})</script><link rel="stylesheet" href="/assets/css/styles.a547e622.css">
<script src="/assets/js/runtime~main.7e8c1c86.js" defer="defer"></script>
<script src="/assets/js/main.fdbd41a0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/MaptaskrLogoBlue.svg" alt="Maptaskr Docs Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/MaptaskrLogoWhite.svg" alt="Maptaskr Docs Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Maptaskr Docs</b></a><a class="navbar__item navbar__link" href="/docs/dynamics-365/introducing-maptaskr-for-dynamics-365">Maptaskr for Dynamics 365 &amp; Power Apps</a><a class="navbar__item navbar__link" href="/docs/power-pages/introducing-maptaskr-for-power-pages">Maptaskr for Power Pages</a><a class="navbar__item navbar__link" href="/docs/tutorials/introduction">Tutorials</a><a class="navbar__item navbar__link" href="/docs/additional-resources">Additional Resources</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/dynamics-365/introducing-maptaskr-for-dynamics-365">Maptaskr for Dynamics 365 &amp; Power Apps</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/power-pages/introducing-maptaskr-for-power-pages">Maptaskr for Power Pages</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/tutorials/introduction">Tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/tutorials/maptaskr-for-dynamics-365-field-service/introduction">Example Implementations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/tutorials/maptaskr-for-dynamics-365-layer-authentication/introduction">Advanced Configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/tutorials/maptaskr-for-dynamics-365-shapefile-conversion/introduction">Extending Maptaskr</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/tutorials/maptaskr-for-dynamics-365-shapefile-conversion/introduction">Dynamics 365 Shapefile Conversion</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/tutorials/maptaskr-for-dynamics-365-custom-sublayer-selection/introduction">Dynamics 365 Custom Sublayer Selection</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/maptaskr-for-dynamics-365-custom-sublayer-selection/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorials/maptaskr-for-dynamics-365-custom-sublayer-selection/configuring-custom-js">Configuring Custom.JS</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/tutorials/maptaskr-for-dynamics-365-datasource-infobox-data/introduction">Dynamics 365 Datasource Layer Infobox Customization</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/tutorials/maptaskr-for-dynamics-365-layer-zoom-control/introduction">Dynamics 365 Zoom Based Layer Control</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/tutorials/maptaskr-for-power-pages-selecting-layer-features/introduction">Power Pages Layer Feature Selection</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/tutorials/maptaskr-for-dynamics-365-layer-attribute-popup-custom-actions/introduction">Dynamics 365 Layer Attribute Popup Custom Actions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/tutorials/maptaskr-for-dynamics-365-add-search-polygon/introduction">Dynamics 365 Add Search Polygon Function</a></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/additional-resources">Additional Resources</a><button aria-label="Expand sidebar category &#x27;Additional Resources&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tutorials</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Extending Maptaskr</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Dynamics 365 Custom Sublayer Selection</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Configuring Custom.JS</span><meta itemprop="position" content="4"></li></ul></nav><div class="theme-doc-markdown markdown"><h1>Configuring Custom.JS</h1>
<p>Below is a snippet of the Custom.JS code for your reference:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* place your custom JS Code here. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> onValidateFailErrorMessage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Please upload a file or draw a shape&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//error message to display when the map validation errors</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> onUploadFailErrorMessage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Something has gone wrong during submission, please check your connection and try again.&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> onIntersectionMessage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Intersections / Exclusions have been found, please check your shapes and try again.&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">clientValidationFunction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">executionContext</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> controlId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//user defined validation function, can use the following for getting the list of shapes, annotations and uploaded files.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//if the user needs to fix the shapes, throw an error.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Validating shapes with:&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">executionContext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">controlId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> maptaskrControl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> globalThis </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> globalThis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">top</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> globalThis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">top</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">maptaskrCORE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> globalThis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">top</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">maptaskrCORE</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">controlId</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">maptaskrControl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Maptaskr Control not found&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//let shapes = _getShapes();</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//let annotation = _getAnnotation();</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//let uploads = _getUploadedFiles();</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//testing shape intersections and determine what to do with them</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> shapeIntersections </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> maptaskrControl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getShapeIntersections</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">shapeIntersections </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> shapeIntersections</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">shapeIntersections</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">some</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">intersectionType</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Warning&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">//decide what to do with warnings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">//if you want them resolved, throw an error here..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">//throw new Error(onIntersectionMessage);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">shapeIntersections</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">some</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">intersectionType</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Error&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">//decide what to do with warnings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">//if you want them resolved, throw an error here..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">onIntersectionMessage</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">shapeIntersections</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">some</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">intersectionType</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Exclusion&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">//decide what to do with warnings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">//if you want them resolved, throw an error here..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">onIntersectionMessage</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//you can also test to make sure your shapes are in the correct position, orintation, contained within eachother, any geometric tests here.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//shapes will come in the format:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">// {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//   &quot;type&quot;: &quot;FeatureCollection&quot;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//   &quot;features&quot;: [</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//     {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//       &quot;type&quot;: &quot;Feature&quot;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//       &quot;geometry&quot;: {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//         &quot;type&quot;: &quot;Polygon&quot;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//         &quot;coordinates&quot;: [</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//           [</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//             [</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//               12899598.276481498,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//               -3758060.96802893</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//             ],</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//      ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//           ]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//         ]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//       },</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//       &quot;properties&quot;: {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//         &quot;uploadDocType&quot;: &quot;Envelope&quot;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//         &quot;markerType&quot;: &quot;MARKER_SHAPE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//       }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//     }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//   ],</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//   &quot;DocumentType&quot;: &quot;Envelope&quot;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//   &quot;annotationId&quot;: &quot;1ffb72d6-c7c3-ed11-83fd-002248e1bcf1&quot;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//   &quot;longlat&quot;: [</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//     12899440.776481498,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//     -3758143.46802893</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//   ],</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//   &quot;styleProperty&quot;: {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//     &quot;geometry_&quot;: null,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//     &quot;fill_&quot;: {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//       &quot;color_&quot;: &quot;rgba(149,255,0,0.1)&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//     },</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//  ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//   }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">// }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//if you require a specific subset of objects, please look into the shapes, annotations, or uploads to ensure specific number of shapes or named shapes are included.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">globalThis </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> globalThis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">top</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	globalThis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">top</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">maptaskrReady</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">pageContext</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> controlId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Maptaskr Map ID: &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> controlId </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27; has Loaded&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> maptaskrControl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> globalThis </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> globalThis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">top</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> globalThis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">top</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">maptaskrCORE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> globalThis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">top</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">maptaskrCORE</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">controlId</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">maptaskrControl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">/* Use the following console logs to uniquely identify your map */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">// console.log(pageContext);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">// console.log(maptaskrControl.registeredLocation);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">// console.log(maptaskrControl.webresourceLocation);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">/* register the correct client validation function here */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			maptaskrControl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">clientValidationFunction</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> clientValidationFunction</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">/* put your setup methods here */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">/* e.g. maptaskrControl.disableSaving = true; - this will disable the inbuilt save methods, you an use maptaskrControl.saveShapes() to save your own shapes.*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">/* put your event registrations here. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token comment" style="color:#999988;font-style:italic">/*  e.g. maptaskrControl.on(&quot;FeaturesSelected&quot;, ...) */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>At the very bottom of the file, let&#x27;s declare a variable that we will use to control an <code>Interval</code>.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> subsubLayerWatcher</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Next, we need to add a new function at the bottom of the file that will be responsible for matching a given sub-layer name against what&#x27;s available in the DOM and clicking the check-box to toggle the layer on.</p>
<p>This function accepts a <code>name</code> parameter which is the name of the sub-layer we would like to toggle on. Then it waits 10 seconds for the parent layer to load, if the layer doesn&#x27;t load within 10 seconds it cancels the function.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>You can tweak this to your specifications</p></div></div>
<p>Next, there&#x27;s a 100ms interval that will watch the DOM to find a label that matches the sub-layer name provided. Once the sub-layer has been found, it finds the respective checkbox element and executes <code>click()</code> on it to toggle the layer.
Finally, it clears the interval and completes the execution.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">turnOnLayerByName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Promise</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">resolve</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> reject</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token comment" style="color:#999988;font-style:italic">//wait for layer to load...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token function" style="color:#d73a49">clearInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">subsubLayerWatcher</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token comment" style="color:#999988;font-style:italic">//cancel the interval if layernot found in 10000 ms (10 sec)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token function" style="color:#d73a49">clearInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">subsubLayerWatcher</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token function" style="color:#d73a49">reject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token comment" style="color:#999988;font-style:italic">//enable the sub (or sub sub layer of choice)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		subsubLayerWatcher </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;watching...&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> subSubLayer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;label&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">l</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> lab</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> lab</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">innerText</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">indexOf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">subSubLayer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;found!&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				subSubLayer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">parent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">parent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;input[type=checkbox]&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token function" style="color:#d73a49">clearInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">subsubLayerWatcher</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">					</span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now we need to register the appropriate extension function within the <code>maptaskrReady</code> functional scope. For this, we will use the <a href="/docs/dynamics-365/registerable-events/layer-list-events#layerselected">LayerSelected</a> event to ensure we fire <code>turnOnLayerByName</code> <strong>only</strong> if the correct parent layer has been turned on. In this case we will use a parent layer called <code>SLIP_Public_Services</code>.</p>
<p>As shown in the highlighted code snippet below, we check that the parent layer&#x27;s name is <code>SLIP_Public_Services</code>. If this is the case, we call our function <code>turnOnLayerByName</code> with the desired sub-layer names. In this scenario we are turning on a layer that is 3 sub-layers deep. We achieve this by enabling each subsequent layer down the layer tree. THe code below will wait for the parent layer <code>SLIP_Public_Services</code> to be enabled and then turn on the sub-layer named <code>Juvenile Period for Slow-Maturing Serotinous Obligate-Seeder Plant Species - SW of WA</code>. Then we turn on the sub-sub-layer called <code>Juvenile Period in Slow-Maturing Plants (2090 RCP 8.5) - SW of WA (DBCA-076)</code> and finally toggling on the sub-sub-sub-layer called <code>2x Juvenile period in years</code> which contains data that can be rendered on the map.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">globalThis </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> globalThis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">top</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	globalThis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">top</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">maptaskrReady</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">pageContext</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> controlId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Maptaskr Map ID: &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> controlId </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27; has Loaded&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> maptaskrControl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> globalThis </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> globalThis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">top</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> globalThis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">top</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">maptaskrCORE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> globalThis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">top</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">maptaskrCORE</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">controlId</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">maptaskrControl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			maptaskrControl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">clientValidationFunction</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> clientValidationFunction</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">			maptaskrControl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;LayerSelected&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">layerGroupID</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> layerID</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> checked</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">				</span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">checked </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> layerID </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;SLIP_Public_Services&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">					</span><span class="token comment" style="color:#999988;font-style:italic">//turn on sub layer</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">					</span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">turnOnLayerByName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Juvenile Period for Slow-Maturing Serotinous Obligate-Seeder Plant Species - SW of WA&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">					</span><span class="token comment" style="color:#999988;font-style:italic">//turn on sub sub layer</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">					</span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">turnOnLayerByName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Juvenile Period in Slow-Maturing Plants (2090 RCP 8.5) - SW of WA (DBCA-076)&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">					</span><span class="token comment" style="color:#999988;font-style:italic">//turn on sub sub sub layer</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">					</span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">turnOnLayerByName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;2x Juvenile period in years&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">				</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">			</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Let&#x27;s see this code in action!</p>
<p>First we turn on the <code>SLIP_Public_Services</code> parent layer and wait for it to load. When this parent layer is toggled you should notice in the developer console a number of outputs informing you that the function is watching for the sub-layer name and a <code>found!</code> output when it finds the given sub-layer name.</p>
<p>As you can see below we&#x27;re getting three instances of <code>found!</code> which is what we are expecting.</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="1059" height="162" class="img_ev3q"></p>
<p>Below is a gif demonstrating this functionality:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/sublayerselection-2b43ed1ad6835d547a365c5dc1623ab3.gif" width="1137" height="770" class="img_ev3q"></p>
<p>Success! Using the code snippets above we have successfully listened to the <code>LayerSelected</code> event and extended it to call a function that will crawl the DOM to find the appropriate sub-layers and toggle them on.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/tutorials/maptaskr-for-dynamics-365-custom-sublayer-selection/introduction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/tutorials/maptaskr-for-dynamics-365-datasource-infobox-data/introduction"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Introduction</div></a></nav></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/dynamics-365/introducing-maptaskr-for-dynamics-365">Maptaskr for Dynamics 365 &amp; Power Apps</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/power-pages/introducing-maptaskr-for-power-pages">Maptaskr for Power Pages</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact Us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:support@maptaskr.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.maptaskr.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/maptaskr" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.x.com/maptaskr" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Maptaskr Pty Ltd. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>